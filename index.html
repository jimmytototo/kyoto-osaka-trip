<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KYOTO · OSAKA · FAMILY TRIP</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="container">
    <div class="hero">
      <div class="heroBanner">
        <div class="bannerLeft">
          <div class="badgeTop">KYOTO · OSAKA · FAMILY TRIP</div>
          <h1 id="title">KYOTO · OSAKA · FAMILY TRIP</h1>
          <p class="subtitle" id="subtitle">親子友善版本</p>
          <div class="meta">
            <span id="generated"></span>
            <span class="pill">GitHub Pages</span>
            <span class="pill">可分享網址</span>
          </div>
        </div>
        <div class="bannerRight">
          <div class="miniMap" aria-hidden="true">
            <div class="miniTitle">行程涵蓋</div>
            <div class="miniChips" id="miniChips"></div>
            <div class="miniRoute">
              <div class="routeStop">KIX</div>
              <div class="routeLine"></div>
              <div class="routeStop">京都</div>
              <div class="routeLine"></div>
              <div class="routeStop">奈良</div>
              <div class="routeLine"></div>
              <div class="routeStop">大阪</div>
            </div>
            <div class="miniHint">每日卡片內有「封面插圖」與「路線視覺」</div>
          </div>
        </div>
      </div>

      <nav class="tabs" aria-label="頁籤">
        <button class="tab active" data-tab="itinerary">每日行程</button>
        <button class="tab" data-tab="overview">整合建議</button>
        <button class="tab" data-tab="transport">交通票券</button>
        <button class="tab" data-tab="checklist">檢查清單</button>
        <button class="tab" data-tab="kids">孩子任務</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <section id="itinerary" class="panel active">
      <div class="row">
        <h2>每日行程（封面插圖 + 路線視覺 + 時間軸）</h2>
        <div class="controls">
          <input id="search" type="search" placeholder="搜尋（清水、海遊館、壽司、巴士…）" />
          <button id="expandAll" class="ghost">全部展開</button>
          <button id="collapseAll" class="ghost">全部收合</button>
        </div>
      </div>

      <div class="legend card">
        <div class="legendGrid">
          <div class="legendItem"><span class="dot dotFocus"></span><strong>今日重點</strong><span class="muted">不建議刪</span></div>
          <div class="legendItem"><span class="dot dotSpot"></span><strong>順遊景點</strong><span class="muted">視體力</span></div>
          <div class="legendItem"><span class="dot dotMove"></span><strong>交通/控時</strong><span class="muted">轉乘/車程</span></div>
          <div class="legendItem"><span class="dot dotFood"></span><strong>餐食</strong><span class="muted">親子優先</span></div>
          <div class="legendItem"><span class="dot dotBackup"></span><strong>備案/警示</strong><span class="muted">雨備/排隊</span></div>
        </div>
      </div>

      <div id="days"></div>
    </section>

    <section id="overview" class="panel">
      <h2>整合建議（給「帶小孩」的版本）</h2>
      <div class="grid">
        <article class="card">
          <h3>每天的執行邏輯</h3>
          <ul class="bullets">
            <li><strong>先完成今日重點</strong>，再看孩子體力加順遊。</li>
            <li>每 90 分鐘安排一次補水/點心/廁所；下午保留室內或商圈降低情緒成本。</li>
            <li>排隊 > 30 分鐘：直接啟用備案或調整順序。</li>
          </ul>
        </article>
        <article class="card">
          <h3>最需要留緩衝的日子</h3>
          <ul class="bullets" id="tightDays"></ul>
        </article>
        <article class="card">
          <h3>推車/階梯提醒</h3>
          <ul class="bullets">
            <li>東山（清水寺/坂道）與伏見稻荷（鳥居階梯）推車成本高，建議背巾或輕便推車。</li>
            <li>冬季日落早，戶外點盡量放上午；晚上以車站/商圈用餐最穩。</li>
          </ul>
        </article>
      </div>
      <article class="card">
        <h3>行程視覺總覽</h3>
        <div id="summaryViz" class="summaryViz"></div>
      </article>

      <article class="card">
        <h3>資料圖表（彙整）</h3>
        <div class="kpiGrid" id="kpiGrid"></div>
        <div class="chart" id="foodChart"></div>
        <div class="chart" id="walkChart"></div>
      </article>

      <p class="footnote">註：路線視覺為「依你表內文字」做的示意；可依當天狀態彈性調整。</p>
    </section>

    <section id="transport" class="panel">
      <h2>交通票券與卡片</h2>
      <div class="card">
        <p class="muted">以下為原表資訊整理（含連結）。</p>
        <div id="transportCards"></div>
      </div>
    </section>

    <section id="checklist" class="panel">
      <h2>出發前檢查清單（可勾選）</h2>
      <div class="grid">
        <article class="card">
          <h3>證件與金流</h3>
          <label class="check"><input type="checkbox"> 護照（有效期）</label>
          <label class="check"><input type="checkbox"> 2 吋照片、證件影本（備援）</label>
          <label class="check"><input type="checkbox"> 信用卡（海外交易）、少量日圓現金</label>
        </article>
        <article class="card">
          <h3>親子必備</h3>
          <label class="check"><input type="checkbox"> 背巾/輕便推車</label>
          <label class="check"><input type="checkbox"> 零食、水壺、濕紙巾、替換衣物</label>
          <label class="check"><input type="checkbox"> 兒童常用藥（退燒/過敏）</label>
        </article>
        
        <article class="card">
          <h3>❄️ 冬季下雪裝備（京都）</h3>
          <label class="check"><input type="checkbox"> 防水防滑鞋（最重要）</label>
          <label class="check"><input type="checkbox"> 防風防潑水外套（有帽）</label>
          <label class="check"><input type="checkbox"> 發熱衣 1 件（可調節）</label>
          <label class="check"><input type="checkbox"> 中層保暖（薄羽絨 / fleece）</label>
          <label class="check"><input type="checkbox"> 防潑水手套（小孩必備）</label>
          <label class="check"><input type="checkbox"> 圍巾 / 毛帽（擋風）</label>
          <label class="check"><input type="checkbox"> 備用襪子 1 雙</label>
          <label class="check"><input type="checkbox"> 折疊傘 / 防水背包套</label>
          <label class="check"><input type="checkbox"> 護唇膏 / 護手霜</label>
          <p class="muted" style="margin-top:8px">
            重點：京都是「濕冷＋走路多」，不用雪靴，但一定要防水防滑。
          </p>
        </article>

        <article class="card">
          <h3>行程執行</h3>
          <label class="check"><input type="checkbox"> 住宿/地址/訂房資訊離線備份</label>
          <label class="check"><input type="checkbox"> 交通卡（ICOCA 等）</label>
          <label class="check"><input type="checkbox"> 雨備方案（室內點）</label>
        </article>
      </div>
    </section>
  
    <section id="kids" class="panel">
      <h2>孩子任務清單（國小高年級）</h2>
      <div class="card">
        <p class="muted">每天完成 1–2 個即可，完成「今日任務」就是成功。</p>
        <div id="kidTasks"></div>
      </div>
    </section>

  </main>

  <footer class="container footer">
    <div>
      <strong>更新方式</strong>
      <p class="muted">覆蓋上傳 index.html / styles.css / script.js / data.json 即可更新。</p>
    </div>
    <div class="muted">© 2026</div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
